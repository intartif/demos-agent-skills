# .github/skills/workflows-corp-policy/config/actions-allowlist.yml
# Catálogo de acciones aprobadas y políticas de versión

actions:
  "actions/checkout":
    recommendedMajor: "v6"
    minMajor: 4
    notes: "Usar @v6 (o pin a SHA) para mejoras recientes y estabilidad."
  "actions/setup-node":
    recommendedMajor: "v4"
    minMajor: 3
    notes: "Preferir caching integrado y node-version de LTS."
  "actions/cache":
    recommendedMajor: "v4"
    minMajor: 3
    notes: "Verifica claves estables y restore-keys."
  "actions/upload-artifact":
    recommendedMajor: "v4"
    minMajor: 3
  "actions/download-artifact":
    recommendedMajor: "v4"
    minMajor: 3
  "github/codeql-action/upload-sarif":
    recommendedMajor: "v3"
    minMajor: 2
  # Agrega aquí tus acciones internas o de terceros aprobadas:
  # "org/mi-accion":
  #   recommendedMajor: "v1"
  #   minMajor: 1

rules:
  branchRefWarning: "Evita ramas (@main/@master). Usa un tag mayor (@vN) o pin a SHA."
  invalidMajorError: "Versión no válida o inferior al mínimo corporativo."
  notInAllowlistError: "Acción no aprobada por el catálogo corporativo."